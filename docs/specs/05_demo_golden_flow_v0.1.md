# Demo Golden Flow v0.1

## 1) Front Matter

* **Title:** Demo Golden Flow v0.1
* **Version:** v0.1
* **Date:** 2025-12-16
* **Status:** Draft
* **Suggested repo path:** `/docs/specs/05_demo_golden_flow_v0.1.md`

## 2) Purpose

This 3–5 minute demo proves Field-Kit is **not a chat app** by showing (1) **persistent objects with stable IDs** (Episode, Items, Bonds), (2) **lineage** (inputs → Bond → output Item) via two Bond executions, (3) **Holologue** as a topology-aware **many→one artifact** generator, and (4) **Ledger inspection** of an append-only QDPIEvent trail with deterministic ordering.

### Terms (v0.1)

* **Episode:** A local, user-owned container for one working session. Every persisted object and every QDPIEvent belongs to exactly one Episode via `episode_id`.
* **Item:** A persistent node of content in the Field, created by a user or generated by an operator. Items are addressable by ID and include a `type` (e.g., `Q`, `M`, `D`, `H`) plus content and minimal metadata.
* **Bond:** A persistent instruction that connects one or more input Items to an operator run. `prompt_text` is the primary instruction. Bonds are created as `status:"draft"` and may be executed; execution generates exactly one output Item and MUST set `status:"executed"` and `output_item_id`.
* **QDPIEvent:** An append-only event record that logs meaningful actions and results. Each event includes `qdpi` (Queue/Monologue/Dialogue/Holologue), `direction` (user→field or system→field), a `name`, a timestamp, and refs to related object IDs.
* **Proposal:** A system suggestion (e.g., suggested Bond prompts) that is logged as events only until the user explicitly confirms creation.
* **Canon:** A user-curated projection over Items/Bonds within an Episode used for presentation or replay. Canon never overrides the append-only event log.
* **Bundle:** A structured artifact output of a Holologue run (many→one) capturing what was selected, what was generated, and any optional proposals. A Bundle may be represented as a single output Item plus an exportable JSON payload.

## 3) Scope and Non-goals (v0.1)

### Scope (what this demo proves)

* v0.1 is **Private • Local**: no accounts, no cloud sync, no collaboration, no publishing.
* This demo proves **persistent objects + append-only events + operators** (Bond, Holologue) are inspectable in the Ledger.

### Non-goals (what this demo does not include)

* No payments, no crypto, no real-money concepts of any kind.
* The demo may show a **Credits simulation** (evented, local-only) purely as an inspectable game/economic layer in the Ledger (see Section 4).

## 4) Credits (v0.1 simulation)

Credits are included in this demo only to prove that “economic/game layer is evented and inspectable.”

* Credits are **local-only** and **purely simulated** in v0.1.
* Credits are **not transferable**, **not redeemable**, and have **no USD exchange rate** in v0.1.
* Credits are represented as **append-only QDPIEvents** named `credits.delta`; the displayed balance is a **derived view**.

**Standard credits event (v0.1)**

* **Event name:** `credits.delta`
* **qdpi:** `"Q"`
* **direction:** `system→field`
* `refs` includes:

  * `delta` (int)
  * `balance_after` (int)
  * `reason` (string)
  * optional direct IDs (e.g., `item_id`, `bond_id`, `output_item_id`, `event_id`)

**Demo-default credit policy (must match steps below)**

* First launch (Step 1): seed **+100** (`reason:"seed"`)
* Creating any Item (Steps 3–4): **+1** each (`reason:"item_created"`)
* Each Bond run request (Steps 6–7): **-10** (`reason:"bond_run_spend"`)
* Each Bond executed success (Steps 6–7): **+3** (`reason:"bond_executed_reward"`)
* Holologue run request (Step 8): **-20** (`reason:"holologue_run_spend"`)
* Holologue completed success (Step 8): **+5** (`reason:"holologue_completed_reward"`)
* If a Bond/Holologue fails: refund the spend (`reason:"bond_run_refund"` / `reason:"holologue_run_refund"`)

## 5) Demo Setup (strict)

### Preconditions

* **Preferred:** Fresh install / empty local store (no existing Networks/Episodes/Items/Bonds/Events).
* **Acceptable:** Existing data allowed only if you can start a new, empty Network cleanly; otherwise reset local data.

### Required mode/track

* **Guided Tutorial Track: ON** for the full demo.

  * If your build uses a toggle: enable it on first-run or in Settings before beginning.
* **Quickstart path (note only):** You can skip Guided Tutorial, but the Golden Flow below assumes Guided Tutorial so all proof moments are guaranteed.

### Default environment assumptions (v0.1)

* **Scope:** Private/local only.
* **Network:** A Network exists and is required on all objects via `network_id` (it may be created during bootstrap; this demo does not require a dedicated `network.created` event).
* **Episode 0:** Auto-created on first launch (Session 0 container).
* **Ledger:** “Ledger” is Queue/Inspect and shows Objects + Events; QDPIEvents are append-only, ordered by `(episode_id, seq)`.
* **Credits chip:** If Credits simulation is enabled, show a small UI chip (e.g., **“Credits: 100”**) and keep it consistent with `credits.delta` events.

### IDs & example universe (v0.1)

* This demo uses one local **Network** (`nw_…`) and one active **Episode** (`ep_…`, Episode 0).
* Stable, prefixed IDs are required and should appear in toasts and the Ledger:

  * `nw_…` (Network), `ep_…` (Episode), `it_…` (Item), `bd_…` (Bond), `ev_…` (QDPIEvent)
* This document uses `…` placeholders intentionally. The proof is that **stable IDs exist**, not the exact bytes.

### If something fails (fallback rules)

* If any “Saved ✓ …” toast does not appear: **open Ledger** immediately to confirm whether objects/events persisted.
* If a run fails (Bond or Holologue): **retry once** from the same screen.
* If storage fails (`store.commit_failed`): stop creating new objects, open Ledger, and use the failure checklist (Section 9).
* If Credits simulation is enabled and a run fails: confirm a **refund** appears as `credits.delta` with `reason:"bond_run_refund"` or `reason:"holologue_run_refund"`.

## 6) The Golden Flow (core)

> **Counting rules used below**
>
> * Counts are **minimum expected** by the end of each step (not including any debug-only render events).
> * QDPIEvent logging is **state-changing + key inspections** only; render/paint/layout are not logged by default.
> * If Credits simulation is enabled, `credits.delta` events are included in counts.

### Step 1 — Launch → Episode 0 created → Blank Field visible

| Field                                  | Spec                                                                                                                                                                                                                                                                           |
| -------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Step name**                          | Launch into Blank Field (Episode 0 auto-created)                                                                                                                                                                                                                               |
| **User action (exact labels)**         | Launch the app. If prompted: tap **“Start”** (or equivalent).                                                                                                                                                                                                                  |
| **System action**                      | Initialize local store → ensure a Network exists (required `network_id`) → create **Episode 0** → (Credits simulation) seed credits → show Blank Field canvas.                                                                                                                 |
| **Objects affected (expected counts)** | **Networks:** 1 (exists/required) • **Episodes:** 1 (created: Episode 0) • **Items:** 0 • **Bonds:** 0 • **QDPIEvents:** ≥ 4                                                                                                                                                   |
| **Required QDPIEvents appended**       | - `app.first_run.started` (**Q**, `direction:"system→field"`)  <br>- `episode.created` (**Q**, `direction:"system→field"`)  <br>- `credits.delta` (**Q**, `direction:"system→field"`, `reason:"seed"`, `delta:+100`)  <br>- `store.commit` (**Q**, `direction:"system→field"`) |
| **Visible UI proof**                   | Canvas heading: **“Blank Field”**. Lock chip: **“Private”**. Credits chip appears/updates: **Credits: 0 → 100**. Optional toast: **“Saved ✓ Episode ep_… created”**.                                                                                                           |

---

### Step 2 — Enable Guided Tutorial (required for this demo)

| Field                                  | Spec                                                                                                           |
| -------------------------------------- | -------------------------------------------------------------------------------------------------------------- |
| **Step name**                          | Start Guided Tutorial                                                                                          |
| **User action (exact labels)**         | Tap **“Start Tutorial”** (or **“Guided Tutorial” → “Start”**).                                                 |
| **System action**                      | Mark tutorial as started for this Episode/session; display the tutorial stepper.                               |
| **Objects affected (expected counts)** | **Items:** 0 • **Bonds:** 0 • **Episodes:** 1 • **QDPIEvents:** +1 (min)                                       |
| **Required QDPIEvents appended**       | - `tutorial.started` (**Q**, `direction:"user→field"`)                                                         |
| **Visible UI proof**                   | A visible stepper/progress UI appears (e.g., “Step 1 of 3”), and the next action is highlighted (create Item). |

---

### Step 3 — Create Item 1 (Q)

| Field                                  | Spec                                                                                                                                                                                                                                     |
| -------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Step name**                          | Create Item 1 (Q)                                                                                                                                                                                                                        |
| **User action (exact labels)**         | Tap **“Create Item”** (or **“+ New Item”**) → in the sheet tap **“Create Item”** (accept defaults).                                                                                                                                      |
| **System action**                      | Persist Item type `Q` titled **“My First Field Item”**. (Credits simulation) award +1 for item creation.                                                                                                                                 |
| **Objects affected (expected counts)** | **Items:** 1 (Q) • **Bonds:** 0 • **Episodes:** 1 • **QDPIEvents:** +3 (min)                                                                                                                                                             |
| **Required QDPIEvents appended**       | - `item.created` (**M**, `direction:"user→field"`)  <br>- `credits.delta` (**Q**, `direction:"system→field"`, `reason:"item_created"`, `delta:+1`, optional `item_id:"it_…"` )  <br>- `store.commit` (**Q**, `direction:"system→field"`) |
| **Visible UI proof**                   | Toast: **`Saved ✓ Item it_… · View Ledger`**. Item appears on canvas with title **“My First Field Item”**. Credits chip updates: **Credits: 100 → 101**.                                                                                 |

---

### Step 4 — Create Item 2 (Q)

| Field                                  | Spec                                                                                                                                                                                                                                     |
| -------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Step name**                          | Create Item 2 (Q)                                                                                                                                                                                                                        |
| **User action (exact labels)**         | Tap **“Create Item”** (or **“+ New Item”**) → set **Type: Q** (if a type picker exists) → tap **“Create Item”**.                                                                                                                         |
| **System action**                      | Persist second Item type `Q` (e.g., “Second Field Item”). (Credits simulation) award +1 for item creation.                                                                                                                               |
| **Objects affected (expected counts)** | **Items:** 2 (Q,Q) • **Bonds:** 0 • **QDPIEvents:** +3 (min)                                                                                                                                                                             |
| **Required QDPIEvents appended**       | - `item.created` (**M**, `direction:"user→field"`)  <br>- `credits.delta` (**Q**, `direction:"system→field"`, `reason:"item_created"`, `delta:+1`, optional `item_id:"it_…"` )  <br>- `store.commit` (**Q**, `direction:"system→field"`) |
| **Visible UI proof**                   | Toast: **`Saved ✓ Item it_… · View Ledger`**. Two Items visible on canvas. Credits chip updates: **Credits: 101 → 102**.                                                                                                                 |

---

### Step 5 — Suggested Bond prompts appear (events only)

| Field                                  | Spec                                                                                                                                 |
| -------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ |
| **Step name**                          | Suggestions presented (no Bond created yet)                                                                                          |
| **User action (exact labels)**         | Tap Item 1 (or follow the tutorial highlight) to focus it.                                                                           |
| **System action**                      | Present **4** content-shaped Bond prompt suggestions as **events only** (no Bonds persisted).                                        |
| **Objects affected (expected counts)** | **Items:** 2 • **Bonds:** 0 • **QDPIEvents:** +1 (min)                                                                               |
| **Required QDPIEvents appended**       | - `bond.suggestions.presented` (**Q**, `direction:"system→field"`)                                                                   |
| **Visible UI proof**                   | UI card/panel shows **4 prompts** and actions like **“Create Bond”**, **“Edit”**, **“Dismiss”**. No Bond line appears on canvas yet. |

---

### Step 6 — Select 1 suggestion → Create Bond draft → Run Bond → output Item M (lineage)

| Field                                  | Spec                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| -------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Step name**                          | Q→M via suggested Bond execution                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **User action (exact labels)**         | On the suggestions panel: select 1 prompt → tap **“Create Bond”** → then tap **“Run Bond”**.                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **System action**                      | Create Bond **draft** with `status:"draft"`, `output_item_id:null`, `input_item_ids=[Item1]` and selected `prompt_text` → on Run: execute → create output Item type `M` → update Bond to `status:"executed"` with `output_item_id` → commit. (Credits simulation) spend on run request, reward on success.                                                                                                                                                                                                                              |
| **Objects affected (expected counts)** | **Items:** 3 (Q,Q,M) • **Bonds:** 1 (executed) • **QDPIEvents:** +6 (min)                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **Required QDPIEvents appended**       | - `bond.draft_created` (**D**, `direction:"user→field"`)  <br>- `bond.run_requested` (**Q**, `direction:"user→field"`)  <br>- `credits.delta` (**Q**, `direction:"system→field"`, `reason:"bond_run_spend"`, `delta:-10`, optional `bond_id:"bd_…"` )  <br>- `bond.executed` (**M**, `direction:"system→field"`)  <br>- `credits.delta` (**Q**, `direction:"system→field"`, `reason:"bond_executed_reward"`, `delta:+3`, optional `bond_id:"bd_…"`, `output_item_id:"it_…"` )  <br>- `store.commit` (**Q**, `direction:"system→field"`) |
| **Visible UI proof**                   | Toast: **`Saved ✓ Bond bd_… executed → Generated Item it_… · View Ledger`**. New Item (type **M**) appears and shows provenance/lineage in Ledger (inputs → bond → output). Credits chip updates: **Credits: 102 → 92 → 95**.                                                                                                                                                                                                                                                                                                           |
| **Note**                               | If the run fails, expect `bond.execution_failed` and a `credits.delta` refund (`reason:"bond_run_refund"`, `delta:+10`) returning Credits to the pre-spend balance.                                                                                                                                                                                                                                                                                                                                                                     |

---

### Step 7 — Write a Bond prompt → Create Bond draft → Run Bond → output Item D (lineage)

| Field                                  | Spec                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| -------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Step name**                          | Q→D via user-written Bond execution                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **User action (exact labels)**         | Tap **“New Bond”** (or **“Create Bond”**) → enter prompt text → tap **“Create Bond”** → tap **“Run Bond”**.                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **System action**                      | Create Bond draft with `status:"draft"`, `output_item_id:null`, and `prompt_text` written by user → execute → create output Item type `D` → update Bond to `status:"executed"` (`output_item_id` set) → commit. (Credits simulation) spend on run request, reward on success.                                                                                                                                                                                                                                                           |
| **Objects affected (expected counts)** | **Items:** 4 (Q,Q,M,D) • **Bonds:** 2 (both executed) • **QDPIEvents:** +6 (min)                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **Required QDPIEvents appended**       | - `bond.draft_created` (**D**, `direction:"user→field"`)  <br>- `bond.run_requested` (**Q**, `direction:"user→field"`)  <br>- `credits.delta` (**Q**, `direction:"system→field"`, `reason:"bond_run_spend"`, `delta:-10`, optional `bond_id:"bd_…"` )  <br>- `bond.executed` (**M**, `direction:"system→field"`)  <br>- `credits.delta` (**Q**, `direction:"system→field"`, `reason:"bond_executed_reward"`, `delta:+3`, optional `bond_id:"bd_…"`, `output_item_id:"it_…"` )  <br>- `store.commit` (**Q**, `direction:"system→field"`) |
| **Visible UI proof**                   | Toast: **`Saved ✓ Bond bd_… executed → Generated Item it_… · View Ledger`**. New Item (type **D**) appears. Ledger shows its provenance `created_by:"bond"`. Credits chip updates: **Credits: 95 → 85 → 88**.                                                                                                                                                                                                                                                                                                                           |
| **Note**                               | `bond.executed` is tagged Monologue (`qdpi:"M"`) because it is a system output event; the output Item’s type may be `D` when the bond prompt was user-written. If the run fails, expect a `credits.delta` refund (`reason:"bond_run_refund"`, `delta:+10`).                                                                                                                                                                                                                                                                             |

**Prompt to type (use exactly):**

```text
Write a short decision note (5 bullets) that makes one clear choice based on Item 1.
```

---

### Step 8 — Select constellation (2+ items) → Run Holologue → output Item H (many→one artifact)

| Field                                  | Spec                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| -------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Step name**                          | (Q,Q)→H Holologue artifact creation                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **User action (exact labels)**         | Multi-select **Item 1 (Q)** + **Item 2 (Q)** (optionally include M/D outputs) → tap **“Run Holologue”** → choose **Artifact kind: “Plan”** → tap **“Run”**.                                                                                                                                                                                                                                                                                                                    |
| **System action**                      | Validate selection (≥2, same network/episode) → generate artifact → pass quality gate (or regenerate once) → persist **one** output Item type `H` with provenance → commit → log completion. (Credits simulation) spend on run request, reward on success.                                                                                                                                                                                                                     |
| **Objects affected (expected counts)** | **Items:** 5 (Q,Q,M,D,H) • **Bonds:** 2 (executed) • **QDPIEvents:** +5 (min)                                                                                                                                                                                                                                                                                                                                                                                                  |
| **Required QDPIEvents appended**       | - `holologue.run_requested` (**H**, `direction:"user→field"`)  <br>- `credits.delta` (**Q**, `direction:"system→field"`, `reason:"holologue_run_spend"`, `delta:-20`, optional `event_id:"ev_…"` )  <br>- `holologue.completed` (**H**, `direction:"system→field"`)  <br>- `credits.delta` (**Q**, `direction:"system→field"`, `reason:"holologue_completed_reward"`, `delta:+5`, optional `output_item_id:"it_…"` )  <br>- `store.commit` (**Q**, `direction:"system→field"`) |
| **Visible UI proof**                   | Toast: **`Saved ✓ Holologue created Item it_… · View Ledger`**. New Item type **H** appears labeled as Holologue output (“from N items”). Credits chip updates: **Credits: 88 → 68 → 73**.                                                                                                                                                                                                                                                                                     |
| **Note**                               | If Holologue fails (`holologue.failed`), expect a `credits.delta` refund (`reason:"holologue_run_refund"`, `delta:+20`) returning Credits to the pre-spend balance.                                                                                                                                                                                                                                                                                                            |

---

### Step 9 — Holologue emits 4 proposals (events only)

| Field                                  | Spec                                                                                                                                    |
| -------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------- |
| **Step name**                          | Holologue proposals presented (events only)                                                                                             |
| **User action (exact labels)**         | Do nothing (or tap the new H item to focus).                                                                                            |
| **System action**                      | After successful completion, emit 4 Bond prompt proposals (events only).                                                                |
| **Objects affected (expected counts)** | **Items:** 5 • **Bonds:** 2 • **QDPIEvents:** +1 (min)                                                                                  |
| **Required QDPIEvents appended**       | - `bond.proposals.presented` (**Q**, `direction:"system→field"`)                                                                        |
| **Visible UI proof**                   | A proposals panel shows **4 prompts** (actions: **Create Bond**, **Edit**, **Dismiss**). No Bonds are created unless the user confirms. |

---

### Step 10 — Open Ledger → inspect Objects + Events → verify lineage chain + event ordering (and credits)

| Field                                          | Spec                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| ---------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Step name**                                  | Ledger inspection (Queue/Inspect)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **User action (exact labels)**                 | Tap **“Ledger”** → open **Objects** tab → open **Events** tab → filter by Episode 0 (if needed).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **System action**                              | Render ledger view. Append inspection event.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **Objects affected (expected counts)**         | **QDPIEvents:** +1 (min)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **Required QDPIEvents appended**               | - `ledger.opened` (**Q**, `direction:"user→field"`)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **Visible UI proof**                           | Ledger shows: <br>**Objects:** Items (5), Bonds (2), Episodes (1), Networks (1). <br>**Events:** ordered by `(episode_id, seq)` showing the full trail (including `credits.delta`).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **Ledger verification checklist (do exactly)** | - In **Objects → Bonds**, open an executed Bond → verify `status:"executed"`, `input_item_ids`, `prompt_text`, `output_item_id`. <br>- In **Objects → Items**, open the Bond output Item (M or D) → verify `provenance.created_by:"bond"` and `provenance.bond_id` matches the Bond, and `provenance.input_item_ids` matches. <br>- In **Objects → Items**, open the Holologue output Item (H) → verify `provenance.created_by:"holologue"`, `provenance.holologue_event_id`, `provenance.selected_item_ids` (≥2), `provenance.artifact_kind`. <br>- In **Events**, verify ordering: `bond.run_requested` occurs before `bond.executed`; `holologue.run_requested` occurs before `holologue.completed`; `bond.proposals.presented` occurs after `holologue.completed`. <br>- In **Events**, find `credits.delta` and confirm `balance_after` changes match the step-by-step Credit chip transitions (seed, item_created, spends, rewards; and refunds if any failure occurred). |

**Success-path minimum events you must be able to find in Ledger:**

```text
app.first_run.started
episode.created
credits.delta
tutorial.started
item.created
bond.suggestions.presented
bond.draft_created
bond.run_requested
bond.executed
holologue.run_requested
holologue.completed
bond.proposals.presented
ledger.opened
store.commit
```

**Failure-only events (must appear only if something fails):**

```text
store.commit_failed
bond.execution_failed
holologue.validation_failed
holologue.failed
```

## 7) Proof Moments (explicit)

* **Persistence proof:** Toast after creating Item 1
  **UI cue:** `Saved ✓ Item it_… · View Ledger` (stable `it_…` ID appears)
* **Lineage proof:** Toast after running the first Bond
  **UI cue:** `Saved ✓ Bond bd_… executed → Generated Item it_… · View Ledger` (Bond ID + output Item ID)
* **Holologue proof:** Toast after running Holologue
  **UI cue:** `Saved ✓ Holologue created Item it_… · View Ledger` (single artifact Item `H`)
* **Credits proof (simulation):** Credits chip moves and is verifiable in Ledger
  **UI cue:** Credits chip transitions (e.g., `Credits: 100 → 101`, `Credits: 102 → 92 → 95`) match `credits.delta.refs.balance_after`.

## 8) Expected Final State (summary)

### Minimum counts at end of demo

* **Items:** **5** minimum

  * Types: **Q, Q, M, D, H**
* **Bonds:** **2** minimum

  * Both **executed** (each has `output_item_id`)
* **Episodes:** **1** (Episode 0 / Session 0)
* **Networks:** **1**
* **QDPIEvents:** minimum **~29–35** on the success path
  This estimate **excludes** debug render/paint/layout events and **excludes** failure-only events (which should not occur on the golden path).
  Must include at least one instance of each of:

  * `app.first_run.started`
  * `episode.created`
  * `credits.delta` (multiple; seed + actions)
  * `tutorial.started`
  * `item.created` (≥2)
  * `bond.suggestions.presented` (≥1)
  * `bond.draft_created` (≥2)
  * `bond.run_requested` (≥2)
  * `bond.executed` (≥2)
  * `holologue.run_requested` (≥1)
  * `holologue.completed` (≥1)
  * `bond.proposals.presented` (≥1)
  * `ledger.opened` (≥1)
  * `store.commit` (multiple)

### Expected Credits balance (if you follow only the golden path steps once)

Starting at 100, the step-default deltas yield:

* Seed: `+100`
* Items: `+1 +1`
* Bond runs: `(-10 +3) + (-10 +3)`
* Holologue run: `(-20 +5)`

**Expected final Credits:** `73`
(If you retry runs or create extra Items, this will differ; the Ledger’s `credits.delta` events are the source of truth.)

### What the Ledger must show

* **Objects tab**

  * Items list includes 5 Items with stable IDs and types (Q/Q/M/D/H)
  * Bonds list includes 2 Bonds with `status:"executed"` and valid `output_item_id`
  * Episode 0 exists and is linked by `episode_id`
  * Network exists and is required on all objects
* **Events tab**

  * Events ordered by `(episode_id, seq)`
  * For each executed Bond: `bond.run_requested` precedes `bond.executed`
  * For Holologue: `holologue.run_requested` precedes `holologue.completed`
  * `bond.proposals.presented` occurs only after `holologue.completed`
  * Credits are inspectable via `credits.delta` and `balance_after` matches the Credits chip transitions.

## 9) Failure Mode Checklist (brief)

* **If `store.commit_failed` appears**

  * Stop the demo flow immediately.
  * Open Ledger → Events tab → confirm `store.commit_failed` is present and inspect its reason/error fields.
  * Retry once from the last action. If it fails again, end demo with Ledger open.

* **If Bond execution fails**

  * Expected events: `bond.run_requested` then `bond.execution_failed`.
  * Expected object behavior: Bond remains `status:"draft"` and includes `last_error` (no output Item created).
  * Credits simulation (if enabled): expect a refund `credits.delta` with `reason:"bond_run_refund"` and `delta:+10` returning the balance to the pre-spend value.
  * Demo fallback: open the Bond in Ledger, show `last_error`, retry **Run Bond** once.

* **If Holologue validation fails (selection too small / mismatch)**

  * Expected event: `holologue.validation_failed`.
  * Confirm you selected **2+ Items** and they share the same `network_id` and `episode_id`.
  * Retry **Run Holologue**.

* **If Holologue generation fails**

  * Expected event: `holologue.failed` (e.g., reason `generation_failed` or `quality_gate_failed`).
  * Confirm there is **no** `holologue.completed` for that attempt.
  * Credits simulation (if enabled): expect a refund `credits.delta` with `reason:"holologue_run_refund"` and `delta:+20`.
  * Retry once. If it fails again, end demo by opening Ledger and showing the failure reason.

* **If Ledger doesn’t show expected objects**

  * Verify you are viewing **Episode 0** and the correct **Network**.
  * Use search/filter by ID from the toast (e.g., `it_…`, `bd_…`).
  * If still missing, treat as persistence failure and end demo with Ledger open.

## 10) Definition of Done (checklist)

* [ ] Guided Tutorial Track can be started and guarantees the full flow is reachable.
* [ ] Starting tutorial appends `tutorial.started` (qdpi `Q`, `direction:"user→field"`).
* [ ] Launch creates Episode 0 and appends:

  * [ ] `app.first_run.started` (qdpi `Q`, `direction:"system→field"`)
  * [ ] `episode.created` (qdpi `Q`, `direction:"system→field"`)
  * [ ] `store.commit` (qdpi `Q`, `direction:"system→field"`)
  * [ ] (Credits simulation) `credits.delta` seed +100 (qdpi `Q`, `direction:"system→field"`)
* [ ] Creating Item 1 and Item 2 appends `item.created` + `store.commit` each and shows `Saved ✓ Item it_…`.

  * [ ] (Credits simulation) each Item creation appends `credits.delta` `delta:+1` with `reason:"item_created"` and the Credits chip updates accordingly.
* [ ] Suggestions appear as **events only**: `bond.suggestions.presented` (no Bond object created yet).
* [ ] Suggested Bond path produces:

  * [ ] Bond draft (`bond.draft_created`)
  * [ ] `bond.run_requested` (qdpi `Q`, `direction:"user→field"`)
  * [ ] `bond.executed` (qdpi `M`, `direction:"system→field"`)
  * [ ] Output Item `M` with provenance `created_by:"bond"` and lineage to the Bond
  * [ ] (Credits simulation) `credits.delta` spend `-10` on run request (`reason:"bond_run_spend"`) and reward `+3` on success (`reason:"bond_executed_reward"`)
* [ ] User-written Bond path produces the same lifecycle and output Item `D` (and the same credits spend/reward behavior if enabled).
* [ ] Holologue run produces:

  * [ ] `holologue.run_requested` and `holologue.completed` (qdpi `H`, directions `user→field` / `system→field`)
  * [ ] Exactly **one** output Item `H` with provenance `created_by:"holologue"` and `selected_item_ids` (≥2)
  * [ ] (Credits simulation) `credits.delta` spend `-20` on run request (`reason:"holologue_run_spend"`) and reward `+5` on success (`reason:"holologue_completed_reward"`)
* [ ] Holologue proposals appear (recommended): `bond.proposals.presented` (qdpi `Q`, `direction:"system→field"`) with **4** prompts (events only).
* [ ] Ledger inspection appends `ledger.opened` (qdpi `Q`, `direction:"user→field"`) and shows correct object counts and ordered event trail.
* [ ] If a Bond or Holologue fails:

  * [ ] failure event is logged (`bond.execution_failed` or `holologue.failed`)
  * [ ] (Credits simulation) spend is refunded via `credits.delta` with `reason:"bond_run_refund"` or `reason:"holologue_run_refund"`
* [ ] No sample worlds/imports exist in v0.1 onboarding or demo.

## 11) Open Questions (optional)

1. Should the demo mandate that Holologue selection includes M/D outputs (5-item constellation) or keep it minimal (2-item constellation) for consistency?
2. Should the demo explicitly show a Bond detail panel with `input_item_ids` and `output_item_id`, or is Ledger JSON preview sufficient?
3. If a build includes optional quality-gate regeneration for Holologue, should the demo include a forced failure scenario, or keep the golden path strictly successful?